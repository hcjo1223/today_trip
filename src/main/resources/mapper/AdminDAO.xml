<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.app.domain.AdminDAO">

	<select id="selectAdminPlaceA" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 32
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectAdminPlaceR" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 39
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectAdminPlaceS" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 12
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectLogCount" resultType="com.spring.app.domain.LogDTO">
	<![CDATA[  
		SELECT 
			H.HR "count_date", A.LOG_DATE "log_date", COUNT(LOG_DATE)  "log_count"
		FROM 
			(SELECT LEVEL - 1 HR FROM DUAL CONNECT BY LEVEL < 8) H LEFT OUTER JOIN (SELECT * FROM user_log WHERE LOG_DATE BETWEEN #{startDate} AND #{endDate}) A
		ON 
			H.HR=TO_NUMBER(TO_CHAR(A.LOG_DATE, 'HH24')) 
		GROUP BY 
			H.HR, a.LOG_DATE
		ORDER BY 1
	
		]]>	
	</select>

</mapper>