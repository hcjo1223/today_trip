<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.app.domain.AdminDAO">

	<select id="selectAdminPlaceA" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 32
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectAdminPlaceR" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 39
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectAdminPlaceS" resultType="com.spring.app.domain.PlaceDTO">
		SELECT 
			place_uid "uid", 
			title, 
			contentId,
			mapx, 
			mapy, 
			addr1,
			tel,
			firstimage2
		FROM 
			place 
		WHERE 
			contentTypeId = 12
		ORDER BY 
			place_uid
	</select>
	
	<select id="selectLogCount" resultType="com.spring.app.domain.LogDTO">
	<![CDATA[  
		SELECT 
			LOG_DATE, COUNT(LOG_DATE) "log_count"
		FROM 
			user_log
		GROUP BY 
			LOG_DATE
		HAVING 
			LOG_DATE BETWEEN #{startDate} AND #{endDate}
		]]>	
	</select>
	
	<select id="selectHomePlace" resultType="com.spring.app.domain.PlaceDTO">
	<![CDATA[  
		SELECT * FROM (
			SELECT 
				place_uid "uid", 
				title, 
				addr1,
				tel
			FROM 
				place 
			WHERE 
				contentTypeId = 32
			ORDER BY 
				place_uid
				)
		WHERE ROWNUM <8
		]]>	
	</select>
	

</mapper>